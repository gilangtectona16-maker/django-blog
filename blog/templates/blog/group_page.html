{% extends 'base.html' %}
{% block content %}
  <h2 class="mb-4 text-center">ğŸ”¥ {{ group_name|upper }} ğŸ”¥</h2>

  <!-- ğŸŒŸ CAROUSEL -->
  <div id="hotCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
    <div class="carousel-inner">
      {% for post in carousel_posts %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <img src="{{ post.featured_image_url }}" class="d-block w-100" />
          <div class="carousel-caption bg-opacity-50 rounded">
            <h5>{{ post.title }}</h5>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>

  <!-- ğŸ–¼ BIG IMAGE CARD -->
  {% if masonry_posts %}
    <h3 class="title-line">
      Sorotan
    </h3>
  {% endif %}

  <!-- ğŸ§± MASONRY GRID -->
  <div class="row" style="column-count:3; column-gap:1rem;">
    {% for post in masonry_posts %}
      <a href="{% url 'post_detail' post.unique_id %}">
        <div class="card mb-5 text-white">
          <div class="row g-0">
            <div class="col-md-4">
              <img src="{{ post.featured_image_url }}" class="img-fluid rounded-start" alt="{{ post.title }}" />
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="card-title">{{ post.title }}</h5>
                <p class="card-text">
                  <small class="text-body-secondary">Terakhir diupdate {{ post.updated_at }}</small>
                </p>
              </div>
            </div>
          </div>
        </div>
      </a>
    {% endfor %}
  </div>

  <!-- â¬‡ï¸ LOAD MORE -->
  {% if has_more %}
    <div class="text-center mt-4">
      <a class="btn btn-outline-primary" href="?page={{ page|add:1 }}">Load more</a>
    </div>
  {% else %}
    <div class="text-center mt-5">
      <p>ğŸ¥º kamu rajin banget cari beritanya, tapi sudah waktunya kembali ke atas</p>
      <a href="#top" class="btn btn-secondary">â¬†ï¸ Ke atas</a>
    </div>
  {% endif %}
{% endblock %}
